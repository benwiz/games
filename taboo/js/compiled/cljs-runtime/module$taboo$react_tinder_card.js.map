{
"version":3,
"file":"module$taboo$react_tinder_card.js",
"lineCount":12,
"mappings":"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",
"sources":["taboo/react-tinder-card.js"],
"sourcesContent":["shadow$provide[\"module$taboo$react_tinder_card\"] = function(global,require,module,exports) {\n/* global WebKitCSSMatrix */\n\nconst React = require('react')\nconst sleep = require('p-sleep')\n\nconst settings = {\n  snapBackDuration: 300,\n  maxTilt: 5,\n  bouncePower: 0.2,\n  swipeThreshold: 300 // px/s\n}\n\nconst getElementSize = (element) => {\n  const elementStyles = window.getComputedStyle(element)\n  const widthString = elementStyles.getPropertyValue('width')\n  const width = Number(widthString.split('px')[0])\n  const heightString = elementStyles.getPropertyValue('height')\n  const height = Number(heightString.split('px')[0])\n  return { x: width, y: height }\n}\n\nconst pythagoras = (x, y) => {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\n}\n\nconst animateOut = async (element, speed) => {\n  const startPos = getTranslate(element)\n  const bodySize = getElementSize(document.body)\n  const diagonal = pythagoras(bodySize.x, bodySize.y)\n\n  const velocity = pythagoras(speed.x, speed.y)\n  const time = diagonal / velocity\n  const multiplier = diagonal / velocity\n\n  const translateString = translationString(speed.x * multiplier + startPos.x, -speed.y * multiplier + startPos.y)\n  const rotateString = rotationString(getRotation(element))\n\n  element.style.transition = 'ease-out ' + time + 's'\n  element.style.transform = translateString + rotateString\n\n  await sleep(time * 1000)\n}\n\nconst animateBack = (element) => {\n  element.style.transition = settings.snapBackDuration + 'ms'\n  const startingPoint = getTranslate(element)\n  const translation = translationString(startingPoint.x * -settings.bouncePower, startingPoint.y * -settings.bouncePower)\n  const rotation = rotationString(getRotation(element) * -settings.bouncePower)\n  element.style.transform = translation + rotation\n\n  setTimeout(() => {\n    element.style.transform = 'none'\n  }, settings.snapBackDuration * 0.75)\n\n  setTimeout(() => {\n    element.style.transition = '10ms'\n  }, settings.snapBackDuration)\n}\n\nconst getSwipeDirection = (speed) => {\n  if (Math.abs(speed.x) > Math.abs(speed.y)) {\n    return (speed.x > 0) ? 'right' : 'left'\n  } else {\n    return (speed.y > 0) ? 'up' : 'down'\n  }\n}\n\nconst calcSpeed = (oldLocation, newLocation) => {\n  const dx = newLocation.x - oldLocation.x\n  const dy = oldLocation.y - newLocation.y\n  const dt = (newLocation.time - oldLocation.time) / 1000\n  return { x: dx / dt, y: dy / dt }\n}\n\nconst translationString = (x, y) => {\n  const translation = 'translate(' + x + 'px, ' + y + 'px)'\n  return translation\n}\n\nconst rotationString = (rot) => {\n  const rotation = 'rotate(' + rot + 'deg)'\n  return rotation\n}\n\nconst getTranslate = (element) => {\n  const style = window.getComputedStyle(element)\n  const matrix = new WebKitCSSMatrix(style.webkitTransform)\n  const ans = { x: matrix.m41, y: matrix.m42 }\n  return ans\n}\n\nconst getRotation = (element) => {\n  const style = window.getComputedStyle(element)\n  const matrix = new WebKitCSSMatrix(style.webkitTransform)\n  const ans = -Math.asin(matrix.m21) / (2 * Math.PI) * 360\n  return ans\n}\n\nconst dragableTouchmove = (coordinates, element, offset, lastLocation) => {\n  const pos = { x: coordinates.x + offset.x, y: coordinates.y + offset.y }\n  const newLocation = { x: pos.x, y: pos.y, time: new Date().getTime() }\n  const translation = translationString(pos.x, pos.y)\n  const rotCalc = calcSpeed(lastLocation, newLocation).x / 1000\n  const rotation = rotationString(rotCalc * settings.maxTilt)\n  element.style.transform = translation + rotation\n  return newLocation\n}\n\nconst touchCoordinatesFromEvent = (e) => {\n  const touchLocation = e.targetTouches[0]\n  return { x: touchLocation.clientX, y: touchLocation.clientY }\n}\n\nconst mouseCoordinatesFromEvent = (e) => {\n  return { x: e.clientX, y: e.clientY }\n}\n\nlet swipeAlreadyReleased = false\n\nconst TinderCard = ({ flickOnSwipe = true, children, onSwipe, onCardLeftScreen, className, preventSwipe = [] }) => {\n  const handleSwipeReleased = async (element, speed) => {\n    if (swipeAlreadyReleased) { return }\n    swipeAlreadyReleased = true\n    if (Math.abs(speed.x) > settings.swipeThreshold || Math.abs(speed.y) > settings.swipeThreshold) { // Swipe recognized\n      onSwipe(getSwipeDirection(speed))\n      if (flickOnSwipe) {\n        if (preventSwipe.includes(getSwipeDirection(speed))) {\n          animateBack(element)\n        } else {\n          await animateOut(element, speed)\n          element.style.display = 'none'\n          onCardLeftScreen()\n        }\n      } else {\n        animateBack(element)\n      }\n    } else {\n      animateBack(element)\n    }\n  }\n\n  const handleSwipeStart = () => {\n    swipeAlreadyReleased = false\n  }\n\n  const ref = React.useCallback((element) => {\n    if (!element) { return } // necesarry?\n    let offset = { x: null, y: null }\n    let speed = { x: 0, y: 0 }\n    let lastLocation = { x: 0, y: 0, time: new Date().getTime() }\n    let mouseIsClicked = false\n\n    element.addEventListener(('touchstart'), (ev) => {\n      ev.preventDefault()\n      handleSwipeStart()\n      offset = { x: -touchCoordinatesFromEvent(ev).x, y: -touchCoordinatesFromEvent(ev).y }\n    })\n\n    element.addEventListener(('mousedown'), (ev) => {\n      ev.preventDefault()\n      mouseIsClicked = true\n      handleSwipeStart()\n      offset = { x: -mouseCoordinatesFromEvent(ev).x, y: -mouseCoordinatesFromEvent(ev).y }\n    })\n\n    element.addEventListener(('touchmove'), (ev) => {\n      ev.preventDefault()\n      const newLocation = dragableTouchmove(touchCoordinatesFromEvent(ev), element, offset, lastLocation)\n      speed = calcSpeed(lastLocation, newLocation)\n      lastLocation = newLocation\n    })\n\n    element.addEventListener(('mousemove'), (ev) => {\n      ev.preventDefault()\n      if (mouseIsClicked) {\n        const newLocation = dragableTouchmove(mouseCoordinatesFromEvent(ev), element, offset, lastLocation)\n        speed = calcSpeed(lastLocation, newLocation)\n        lastLocation = newLocation\n      }\n    })\n\n    element.addEventListener(('touchend'), (ev) => {\n      ev.preventDefault()\n      handleSwipeReleased(element, speed)\n    })\n\n    element.addEventListener(('mouseup'), (ev) => {\n      if (mouseIsClicked) {\n        ev.preventDefault()\n        mouseIsClicked = false\n        handleSwipeReleased(element, speed)\n      }\n    })\n\n    element.addEventListener(('mouseleave'), (ev) => {\n      if (mouseIsClicked) {\n        ev.preventDefault()\n        mouseIsClicked = false\n        handleSwipeReleased(element, speed)\n      }\n    })\n  })\n\n  return (\n    React.createElement('div', { ref, className }, children)\n  )\n}\n\nmodule.exports = {TinderCard};\n// export default TinderCard;\n\n// module.exports = {add: (a, b) => a + b };\n\n};"],
"names":["shadow$provide","global","require","module","exports","React","sleep","animateOut","element","speed","startPos","diagonal","velocity","time","multiplier","translateString","rotateString","getTranslate","elementStyles","window","getComputedStyle","document","body","widthString","getPropertyValue","width","Number","split","heightString","height","bodySize","Math","sqrt","pow","x","y","translationString","getRotation","rot","style","transition","transform","animateBack","startingPoint","translation","rotation","setTimeout","snapBackDuration","getSwipeDirection","abs","calcSpeed","oldLocation","newLocation","dt","matrix","WebKitCSSMatrix","webkitTransform","ans","m41","m42","asin","m21","PI","dragableTouchmove","coordinates","offset","lastLocation","getTime","Date","maxTilt","touchCoordinatesFromEvent","e","touchLocation","targetTouches","clientX","clientY","swipeAlreadyReleased","TinderCard","flickOnSwipe","children","onSwipe","onCardLeftScreen","className","preventSwipe","handleSwipeReleased","swipeThreshold","includes","display","ref","useCallback","mouseIsClicked","addEventListener","ev","preventDefault","createElement"]
}
