<!DOCTYPE html>
<html>
  <head>
	<meta charset="utf-8">
	<title>WebSocket Test</title>
  </head>
  <body>
    <div>
	  <script>
		var socket = new WebSocket("ws://127.0.0.1:3012");
		socket.onmessage = function (event) {
			var received = document.getElementById("received");
			var br = document.createElement("BR");
			var text = document.createTextNode(event.data);
			received.appendChild(br);
			received.appendChild(text);
		};

		function send(element) {
			var input = document.getElementById(element);
			socket.send(input.value);
			input.value = "";
		}
	  </script>
	  <p id="received">
		<strong>Received Messages:</strong>
	  </p>
	  <form onsubmit="send('message'); return false">
		<input type="text" id="message">
		<input type="submit" value="Send">
	  </form>

      <div>
        <h4>Example Requests:</h4>
        Echo: <tt>{"route":"/echo","event":"","body":{"testing":123}}</tt>
        <br>
        Create User: <tt>{"route":"/users","event":"create","body":{"name":"menashi"}}</tt>
        <br>
        Send Chat: <tt>{"route":"/chat","event":"create","body":{"message":"hi guys"}}</tt>
        <br>
        Create Room: <tt>{"route":"/rooms","event":"create","body":{"name":"myroom"}}</tt>
        <br>
        Join Room: <tt>{"route":"/rooms","event":"join","body":{"name":"myroom"}}</tt>
        <br>
        Leave Room: <tt>{"route":"/rooms","event":"leave","body":{"name":"myroom"}}</tt>
      </div>
    </div>
  </body>
</html>
